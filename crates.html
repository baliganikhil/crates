<html>
<head>
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="crates.css">
	<script type="text/javascript" src="startup_files/jquery-1.9.0.min.js"></script>
	<script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>
</head>
<body>

	<script>(function(d, s, id) {
  /*var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=437640756301969";
  fjs.parentNode.insertBefore(js, fjs);*/
}(document, 'script', 'facebook-jssdk'));</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38560358-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="#">Crates</a>
    <ul class="nav">
      <li id="btn_home" class="active"><a href="#">Home</a></li>
      <li id="btn_create_world"><a href="#">Create World</a></li>
      <li id="btn_help"><a href="#">Help</a></li>
      <li id="btn_about"><a href="#">About</a></li>
      <li><!--
  Below we include the Login Button social plugin. This button uses the JavaScript SDK to
  present a graphical Login button that triggers the FB.login() function when clicked. -->

		<fb:login-button show-faces="true" width="200" max-rows="1" onclick="login()"></fb:login-button>
	   </li>
    </ul>
  </div>
</div>

<div class="">

<section id="section_game" class="">
	<div class="well span4">
		<button class="btn btn-large btn-primary" id="btn_restart"><i class='icon-repeat icon-white'></i> Restart</button>

		<hr>
			<h4>Level</h4>
			<select id="dd_levels"></select>
		<hr>
		<div>
			<h4>Time</h4>
			<h3 id="timer_value">00 : 00</h3>
		</div>

		<hr>
		<div>
			<h4>Moves</h4>
			<h3 id="no_of_moves">0</h3>
		</div>

		<div>
			<h4>Spread the word!</h4>
			<div class="fb-like" data-href="http://nikhilbaliga.com/crates/crates.html" data-send="true" data-width="200" data-show-faces="true"></div>
		</div>
	</div>
	<div class="span8" id="game_area"></div>
</section>

<section id="section_design" class="hide">
	<div id="create_world">
		<div class="well">
			<div>
				<ul>
					<li class="btn_item wall" data-control="wall"></li>
					<li class="btn_item grass" data-control="grass"></li>
					<li class="btn_item crate" data-control="crate"></li>
					<li class="btn_item target" data-control="target"></li>
					<li class="btn_item hero" data-control="hero"></li>
					<li class="btn_item hero_target" data-control="hero_target"></li>
					<li class="btn_item crate_target" data-control="crate_target"></li>
				</ul>
			</div>
			<div>
				<button class="btn btn-large btn-primary" id="btn_test">Generate</button>
			</div>
		</div>
		<div id="world_editor" class="span8"></div>
		<div id="world_editor" class="span4">
			<h3>How to create worlds?</h3>
				Click on the map to select cells. Click again to deselect <p>
				Choose item from the toolbar above to add it to the map <p>
				Once you are done, click on Generate <p>
				Send the generated matrix to <h4>baliganikhil [at] gmail [dot] com</h4> <p>
				This process will be automated with login later. For now, it's beta :-)
				<hr>
				<div id="generated_matrix"></div>
		</div>
	</div>
</section>

</div>

<div class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Help [Crates]</h3>
  </div>
  <div class="modal-body">
    <p>
    	The objective is simple. Cover the targets (golden circles) with the crates. <p>
    	Move the hero by using the keyboard keys up, down, left and right
    	</p>

    	<p>Crates - By Nikhil Baliga (baliganikhil [at] gmail [dot] com) - Send in your comments and suggestions</p>

    	<p><a href="https://github.com/baliganikhil/crates">Fork</a></p>
    </p>
  </div>
  <div class="modal-footer">
  </div>
</div>

<script type="text/javascript" src="crates.js"></script>


<div id="fb-root"></div>
      <script>
        window.fbAsyncInit = function() {
          FB.init({
            appId      : '548610865234009',
            status     : true,
            cookie     : true,
            xfbml      : true,
            oauth      : true,
          });
        };
        (function(d){
           var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
           js = d.createElement('script'); js.id = id; js.async = true;
           js.src = "//connect.facebook.net/en_US/all.js";
           d.getElementsByTagName('head')[0].appendChild(js);
         }(document));

       //LOGIN FUNCTION
       function login() {
        FB.login(function(response) {
            if (response.authResponse) {
                alert('Success!');
            }else{
                alert('Login Failed!');
            }

testAPI();
function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Good to see you, ' + response.name + '.');
    });
  }

        }, {scope: 'email'});
     }
      </script>
      <div onclick="login();">Login with Facebook</div>

</body>
</html>
